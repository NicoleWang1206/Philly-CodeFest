<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Sweet Finds</title>
        <link rel="stylesheet" href="css/style.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <script src="script.js" defer></script>
    </head>

<body>
    <div class="loader loader-hidden">
        <div class="loader-content">
            <span class="loading-text">Loading...</span>
            <img src="img/pixel_cat_walking.gif" alt="Loading animation" class="loading-gif">
        </div>
    </div>
        
    <div class="wrapper">
        <form action="">
            <h1>Sweet Finds</h1>
            <div class="input-box">
                <input type="text" placeholder="Paste your Amazon link here" required>
                <i class='bx bx-search-alt'></i>
            </div>
        </form>
    
        <!-- Feedback Section -->
        <div class="product-feedback">
            <h2>Likes and Dislikes</h2>
            <div class="input-boxes">
                <div class="input-box">
                    <input type="text" placeholder="What do you like about the product?" required>
                    <i class='bx bx-pencil'></i>
                </div>
                <div class="input-box">
                    <input type="text" placeholder="What do you dislike about the product?" required>
                    <i class='bx bx-pencil'></i>
                </div>
            </div>
        </div>
    
        <!-- How to Use Section -->
        <div class="how-to-use-text">
            <h1>How to Use</h1>
            Follow these simple steps to find your sweet finds:
            <ul>
                <p>1. Paste a link to a product you are searching for</p>
                <p>2. Provide what you like and dislike about the product</p>
                <p>3. Sweet Finds will give you the product with the best reviews and highest ratings</p>
                <p>4. Sweet Finds will also give you recommendations based on the product you are searching for</p>
                <p>5. Enjoy discovering our recommendations!</p>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            let loader = document.querySelector(".loader");

            loader.classList.add("loader-hidden"); // Hide loader initially

            document.querySelector("form").addEventListener("submit", function(event) {
                event.preventDefault(); 

                let inputField = document.querySelector(".input-box input");
                let link = inputField.value.trim();

                if (link) {
                    let encodedLink = encodeURIComponent(link);

                    loader.classList.remove("loader-hidden"); // Show loader

                    setTimeout(() => {
                        window.location.href = "https://nicolewang1206.github.io/Sweet-Finds/page%202.html";
                    }, 1000); // Delay before navigating
                }
            });
        });
    </script>
    
</body>
</html>